<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ankush & Swati ‚Äì Invite Composer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="images/favicon.png" />

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --mehendi: #800020;
      --mehendi-dark: #5C0015;
      --mehendi-light: #A03050;
      --turmeric: #D4AF37;
      --turmeric-dark: #B8960C;
      --turmeric-light: #F4D03F;
      --coral: #DC143C;
      --coral-dark: #B01030;
      --coral-light: #FF6B6B;
      --cream: #FFF9F5;
      --cream-dark: #F5E6D8;
      --text-dark: #2D1F1F;
      --text-medium: #4A3535;
      --text-light: #7A5555;
      --brown: #5C3D3D;
      --gradient-festive: linear-gradient(135deg, #D4AF37 0%, #DC143C 50%, #800020 100%);
      --gradient-warm: linear-gradient(180deg, #FFF9F5 0%, #F5E6D8 100%);
      --gradient-mehendi: linear-gradient(135deg, #A03050 0%, #800020 50%, #5C0015 100%);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, sans-serif;
      background: var(--gradient-warm);
      color: var(--text-dark);
    }

    .page {
      max-width: 900px;
      margin: 0 auto;
      padding: 18px 16px 40px;
    }

    header {
      text-align: center;
      padding: 18px 12px 10px;
    }

    .title {
      font-family: "Playfair Display", serif;
      font-size: 1.9rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--mehendi-dark);
    }

    .title span { color: var(--coral); }

    .subtitle {
      font-size: 0.92rem;
      color: var(--text-light);
      margin-top: 4px;
    }

    .pill-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
      font-size: 0.8rem;
    }

    .pill {
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(212, 175, 55, 0.12);
      color: var(--brown);
      border: 1px solid rgba(212, 175, 55, 0.4);
    }

    .card {
      background: #ffffff;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(92, 0, 21, 0.08);
      padding: 16px 14px 18px;
      margin-top: 18px;
      border: 1px solid rgba(128, 0, 32, 0.08);
    }

    .card h2 {
      font-size: 1.05rem;
      margin: 0 0 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--mehendi-dark);
    }

    label {
      display: block;
      font-size: 0.9rem;
      margin-top: 10px;
      color: var(--text-dark);
    }

    input[type="text"],
    input[type="url"],
    select,
    textarea {
      width: 100%;
      margin-top: 4px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid rgba(128, 0, 32, 0.2);
      font-family: inherit;
      font-size: 0.9rem;
      outline: none;
      background: #fffdf9;
      color: var(--text-dark);
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--mehendi);
      background: #ffffff;
    }

    .field-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .field-row > div { flex: 1 1 200px; }

    .hint {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 3px;
    }

    .events { margin-top: 6px; }

    .events label {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 6px;
      font-size: 0.9rem;
      color: var(--text-medium);
    }

    .events input[type="checkbox"] {
      width: auto;
      accent-color: var(--mehendi);
    }

    button, .btn {
      margin-top: 14px;
      padding: 10px 16px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.92rem;
      font-weight: 500;
      background: var(--gradient-festive);
      color: var(--cream);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      box-shadow: 0 8px 18px rgba(92, 0, 21, 0.35);
      text-decoration: none;
    }

    button:active, .btn:active {
      transform: translateY(1px);
    }

    .btn-whatsapp {
      background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
      color: #ffffff;
    }

    .btn-email {
      background: linear-gradient(135deg, #EA4335 0%, #B72A1F 100%);
      color: #ffffff;
    }

    .btn-sms {
      background: linear-gradient(135deg, #5B8DEF 0%, #3B5998 100%);
      color: #ffffff;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    textarea#output {
      min-height: 300px;
      resize: vertical;
      white-space: pre-wrap;
      line-height: 1.6;
    }

    .footer-note {
      margin-top: 16px;
      font-size: 0.8rem;
      color: var(--text-light);
      text-align: center;
    }

    .hidden { display: none !important; }

    .send-options-label {
      font-size: 0.85rem;
      color: var(--text-medium);
      margin-top: 16px;
      margin-bottom: 6px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="title">Ankush <span>&amp;</span> Swati</div>
      <div class="subtitle">Wedding Invite Composer</div>
      <div class="pill-row">
        <div class="pill">WhatsApp ¬∑ Email ¬∑ SMS</div>
        <div class="pill">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ¬∑ English ¬∑ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</div>
      </div>
    </header>

    <section class="card">
      <h2>Guest & Language</h2>

      <label>
        Guest name
        <input type="text" id="guestName" placeholder="e.g. Rajesh uncle, Priya" />
        <div class="hint">Use how you'd naturally address them</div>
      </label>

      <div class="field-row">
        <div>
          <label>
            Language
            <select id="language">
              <option value="en" selected>English</option>
              <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
              <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bangla)</option>
            </select>
          </label>
        </div>
        <div>
          <label>
            Tone
            <select id="tone">
              <option value="formal" selected>Formal (elders, seniors)</option>
              <option value="neutral">Warm (relatives, colleagues)</option>
              <option value="casual">Casual (friends, cousins)</option>
            </select>
          </label>
        </div>
      </div>

      <label>
        Personal touch (optional)
        <input type="text" id="personalNote" placeholder="e.g. It's been too long since we met!" />
        <div class="hint">Add something personal to make it feel genuine</div>
      </label>
    </section>

    <section class="card">
      <h2>Events</h2>
      <div class="hint">Which events is this guest invited to?</div>

      <div class="events">
        <label><input type="checkbox" value="haldi" /> Haldi & Mehndi ‚Äì 23 Feb</label>
        <label><input type="checkbox" value="sangeet" /> Sangeet & Matkor ‚Äì 24 Feb</label>
        <label><input type="checkbox" value="wedding" /> Wedding Ceremony ‚Äì 25 Feb</label>
        <label><input type="checkbox" value="reception" /> Reception on the River ‚Äì 28 Feb</label>
      </div>
    </section>

    <section class="card">
      <h2>Website</h2>
      <input type="url" id="siteLink" value="https://sundeep739.github.io/ankush-swati-wedding/" />
      <button id="generateBtn">Generate Invite</button>
    </section>

    <section class="card">
      <h2>Your Invite</h2>
      <textarea id="output" readonly placeholder="Your invite will appear here..."></textarea>

      <div class="send-options-label hidden" id="sendLabel">Send via:</div>

      <div class="btn-row">
        <a id="whatsappBtn" class="btn btn-whatsapp hidden" href="#" target="_blank">WhatsApp</a>
        <a id="emailBtn" class="btn btn-email hidden" href="#" target="_blank">Email</a>
        <a id="smsBtn" class="btn btn-sms hidden" href="#" target="_blank">SMS</a>
        <button id="copyBtn" class="btn hidden" style="background: var(--gradient-mehendi);">Copy</button>
      </div>
    </section>

    <div class="footer-note">For family use only</div>
  </div>

  <script>
    const eventLabels = {
      en: {
        haldi: "Haldi & Mehndi (23rd Feb)",
        sangeet: "Sangeet & Matkor (24th Feb)",
        wedding: "Wedding (25th Feb)",
        reception: "Reception on the River (28th Feb)"
      },
      hi: {
        haldi: "‡§π‡§≤‡•ç‡§¶‡•Ä-‡§Æ‡•á‡§π‡§Ç‡§¶‡•Ä (23 ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä)",
        sangeet: "‡§∏‡§Ç‡§ó‡•Ä‡§§-‡§Æ‡§ü‡§ï‡•å‡§∞ (24 ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä)",
        wedding: "‡§µ‡§ø‡§µ‡§æ‡§π (25 ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä)",
        reception: "‡§∞‡§ø‡§∏‡•á‡§™‡•ç‡§∂‡§® (28 ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä)"
      },
      bn: {
        haldi: "‡¶π‡¶æ‡¶≤‡¶¶‡¶ø-‡¶Æ‡ßá‡¶π‡ßá‡¶®‡ßç‡¶¶‡¶ø (‡ß®‡ß© ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø)",
        sangeet: "‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ‡¶§-‡¶Æ‡¶æ‡¶ü‡¶ï‡ßã‡¶∞ (‡ß®‡ß™ ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø)",
        wedding: "‡¶¨‡¶ø‡¶Ø‡¶º‡ßá (‡ß®‡ß´ ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø)",
        reception: "‡¶∞‡¶ø‡¶∏‡ßá‡¶™‡¶∂‡¶® (‡ß®‡ßÆ ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø)"
      }
    };

    const emailSubjects = {
      en: "Wedding Invitation ‚Äì Ankush & Swati",
      hi: "‡§∂‡•Å‡§≠ ‡§µ‡§ø‡§µ‡§æ‡§π ‚Äì ‡§Ö‡§Ç‡§ï‡•Å‡§∂ ‡§è‡§µ‡§Ç ‡§∏‡•ç‡§µ‡§æ‡§§‡§ø",
      bn: "‡¶∂‡ßÅ‡¶≠ ‡¶¨‡¶ø‡¶¨‡¶æ‡¶π ‚Äì ‡¶Ö‡¶ô‡ßç‡¶ï‡ßÅ‡¶∂ ‡¶ì ‡¶∏‡ßç‡¶¨‡¶æ‡¶§‡ßÄ"
    };

    function formatEventList(lang, selected) {
      if (selected.length === 0) return "";
      if (selected.length === 1) return eventLabels[lang][selected[0]];
      if (selected.length === 2) {
        const connector = lang === "en" ? " and " : (lang === "hi" ? " ‡§î‡§∞ " : " ‡¶ì ");
        return eventLabels[lang][selected[0]] + connector + eventLabels[lang][selected[1]];
      }
      const lastEvent = selected.pop();
      const connector = lang === "en" ? ", and " : (lang === "hi" ? " ‡§î‡§∞ " : " ‡¶ì ");
      return selected.map(e => eventLabels[lang][e]).join(", ") + connector + eventLabels[lang][lastEvent];
    }

    function buildMessage() {
      const name = document.getElementById("guestName").value.trim();
      const lang = document.getElementById("language").value;
      const tone = document.getElementById("tone").value;
      const note = document.getElementById("personalNote").value.trim();
      const siteLink = document.getElementById("siteLink").value.trim();

      const checkboxes = document.querySelectorAll(".events input[type=checkbox]");
      const selected = [];
      checkboxes.forEach(cb => { if (cb.checked) selected.push(cb.value); });

      let msg = "";

      // ==================== ENGLISH ====================
      if (lang === "en") {
        
        // CASUAL - Friends, cousins
        if (tone === "casual") {
          msg += `Hey ${name || "you"}!\n\n`;
          msg += `Big news ‚Äì Ankush and Swati are getting married! üéâ\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `We'd love for you to come celebrate with us in Kolkata.\n\n`;
          if (selected.length > 0) {
            msg += `You're invited to:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `All the details are on our wedding website:\n`;
          msg += `${siteLink}\n\n`;
          msg += `Let us know if you can make it ‚Äì would mean a lot!\n\n`;
          msg += `See you soon,\nAnkush & Swati`;
        }
        
        // NEUTRAL - Relatives, colleagues
        else if (tone === "neutral") {
          msg += `Dear ${name || "friend"},\n\n`;
          msg += `We are delighted to share that Ankush and Swati are getting married!\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `The wedding celebrations will be held in Kolkata this February, and we would be honoured to have you join us.\n\n`;
          if (selected.length > 0) {
            msg += `We would like to invite you to:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `You can find all the details and RSVP on our wedding website:\n`;
          msg += `${siteLink}\n\n`;
          msg += `We truly hope you can make it. Your presence would make the occasion even more special.\n\n`;
          msg += `Warm regards,\nThe Shaw Family`;
        }
        
        // FORMAL - Elders, seniors
        else {
          msg += `‡•• ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡•á‡§∂‡§æ‡§Ø ‡§®‡§Æ‡§É ‡••\n\n`;
          msg += `Respected ${name || "Sir/Ma'am"},\n\n`;
          msg += `Pranam.\n\n`;
          msg += `With the blessings of Lord Ganesha and our elders, we are overjoyed to announce the wedding of Ankush and Swati.\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `The wedding ceremonies will take place in Kolkata this February. It would be our honour and privilege to have your gracious presence and blessings on this auspicious occasion.\n\n`;
          if (selected.length > 0) {
            msg += `We humbly invite you to:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `Kindly visit our wedding website for complete details and to RSVP:\n`;
          msg += `${siteLink}\n\n`;
          msg += `Your ashirwad means the world to us.\n\n`;
          msg += `With deepest regards,\nThe Shaw Family`;
        }
      }

      // ==================== HINDI ====================
      if (lang === "hi") {
        
        // CASUAL
        if (tone === "casual") {
          msg += `‡§Ö‡§∞‡•á ${name || "‡§Ø‡§æ‡§∞"}!\n\n`;
          msg += `‡§¨‡§°‡§º‡•Ä ‡§ñ‡•Å‡§∂‡§ñ‡§¨‡§∞‡•Ä ‡§π‡•à ‚Äì ‡§Ö‡§Ç‡§ï‡•Å‡§∂ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§§‡§ø ‡§ï‡•Ä ‡§∂‡§æ‡§¶‡•Ä ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à! üéâ\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§π‡•à, ‡§î‡§∞ ‡§§‡•Å‡§Æ‡•ç‡§π‡•á‡§Ç ‡§Ü‡§®‡§æ ‡§π‡•Ä ‡§π‡•ã‡§ó‡§æ!\n\n`;
          if (selected.length > 0) {
            msg += `‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡§æ invitation:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡§∏‡§æ‡§∞‡•Ä details ‡§Ø‡§π‡§æ‡§Å ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§è‡§Å‡§ó‡•Ä:\n`;
          msg += `${siteLink}\n\n`;
          msg += `RSVP ‡§ï‡§∞ ‡§¶‡•á‡§®‡§æ ‚Äì ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç!\n\n`;
          msg += `‚Äì ‡§Ö‡§Ç‡§ï‡•Å‡§∂ & ‡§∏‡•ç‡§µ‡§æ‡§§‡§ø`;
        }
        
        // NEUTRAL
        else if (tone === "neutral") {
          msg += `‡§™‡•ç‡§∞‡§ø‡§Ø ${name || "‡§ú‡•Ä"},\n\n`;
          msg += `‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§π ‡§¨‡§§‡§æ‡§§‡•á ‡§π‡•Å‡§è ‡§¨‡§π‡•Å‡§§ ‡§ñ‡•Å‡§∂‡•Ä ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§Ö‡§Ç‡§ï‡•Å‡§∂ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§§‡§ø ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§æ‡§π ‡§π‡•ã‡§®‡•á ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à!\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡§µ‡§ø‡§µ‡§æ‡§π ‡§∏‡§Æ‡§æ‡§∞‡•ã‡§π ‡§á‡§∏ ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§Ç‡§ó‡•á‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§¨‡•á‡§π‡§¶ ‡§ñ‡•Å‡§∂‡•Ä ‡§π‡•ã‡§ó‡•Ä ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§á‡§∏ ‡§ñ‡§æ‡§∏ ‡§Æ‡•å‡§ï‡•á ‡§™‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§æ‡§• ‡§π‡•ã‡§Ç‡•§\n\n`;
          if (selected.length > 0) {
            msg += `‡§Ü‡§™‡§ï‡•ã ‡§∏‡§æ‡§¶‡§∞ ‡§Ü‡§Æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡§∏‡§≠‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§î‡§∞ RSVP ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç:\n`;
          msg += `${siteLink}\n\n`;
          msg += `‡§Ü‡§™‡§ï‡•Ä ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§á‡§∏ ‡§Ö‡§µ‡§∏‡§∞ ‡§ï‡•ã ‡§î‡§∞ ‡§≠‡•Ä ‡§ñ‡§æ‡§∏ ‡§¨‡§®‡§æ ‡§¶‡•á‡§ó‡•Ä‡•§\n\n`;
          msg += `‡§∏‡•ç‡§®‡•á‡§π ‡§∏‡§π‡§ø‡§§,\n‡§∂‡•â ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞`;
        }
        
        // FORMAL
        else {
          msg += `‡•• ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡•á‡§∂‡§æ‡§Ø ‡§®‡§Æ‡§É ‡••\n\n`;
          msg += `‡§Ü‡§¶‡§∞‡§£‡•Ä‡§Ø ${name || "‡§ú‡•Ä"},\n\n`;
          msg += `‡§∏‡§æ‡§¶‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§Æ‡•§\n\n`;
          msg += `‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡•á‡§∂ ‡§ú‡•Ä ‡§ï‡•Ä ‡§ï‡•É‡§™‡§æ ‡§î‡§∞ ‡§¨‡§°‡§º‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§∏‡•á, ‡§π‡§Æ‡•á‡§Ç ‡§Ø‡§π ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•Å‡§è ‡§Ö‡§§‡•ç‡§Ø‡§Ç‡§§ ‡§π‡§∞‡•ç‡§∑ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ö‡§Ç‡§ï‡•Å‡§∂ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§§‡§ø ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§æ‡§π ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§π‡•Å‡§Ü ‡§π‡•à‡•§\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡§µ‡§ø‡§µ‡§æ‡§π ‡§ï‡•á ‡§∂‡•Å‡§≠ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§á‡§∏ ‡§´‡§º‡§∞‡§µ‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§Ü‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§π‡•ã‡§Ç‡§ó‡•á‡•§ ‡§á‡§∏ ‡§Æ‡§Ç‡§ó‡§≤ ‡§Ö‡§µ‡§∏‡§∞ ‡§™‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§î‡§∞ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§™‡§æ‡§ï‡§∞ ‡§π‡§Æ ‡§ß‡§®‡•ç‡§Ø ‡§π‡•ã‡§Ç‡§ó‡•á‡•§\n\n`;
          if (selected.length > 0) {
            msg += `‡§Ü‡§™‡§ï‡•ã ‡§∏‡§æ‡§¶‡§∞ ‡§Ü‡§Æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§è‡§µ‡§Ç RSVP ‡§π‡•á‡§§‡•Å ‡§ï‡•É‡§™‡§Ø‡§æ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç:\n`;
          msg += `${siteLink}\n\n`;
          msg += `‡§Ü‡§™‡§ï‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§Ö‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§π‡•à‡•§\n\n`;
          msg += `‡§∏‡§æ‡§¶‡§∞,\n‡§∂‡•â ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞`;
        }
      }

      // ==================== BANGLA ====================
      if (lang === "bn") {
        
        // CASUAL
        if (tone === "casual") {
          msg += `‡¶è‡¶á ${name || "‡¶∞‡ßá"}!\n\n`;
          msg += `‡¶¨‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶ñ‡¶¨‡¶∞ ‚Äì ‡¶Ö‡¶ô‡ßç‡¶ï‡ßÅ‡¶∂ ‡¶Ü‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶§‡ßÄ‡¶∞ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßá! üéâ\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ‡¶Ø‡¶º ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡¶§‡ßã‡¶ï‡ßá ‡¶Ü‡¶∏‡¶§‡ßá‡¶á ‡¶π‡¶¨‡ßá!\n\n`;
          if (selected.length > 0) {
            msg += `‡¶§‡ßã‡¶∞ invitation:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡¶∏‡¶¨ details ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶æ‡¶¨‡¶ø:\n`;
          msg += `${siteLink}\n\n`;
          msg += `RSVP ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶∏ ‚Äì ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶¨‡ßá!\n\n`;
          msg += `‚Äì ‡¶Ö‡¶ô‡ßç‡¶ï‡ßÅ‡¶∂ & ‡¶∏‡ßç‡¶¨‡¶æ‡¶§‡ßÄ`;
        }
        
        // NEUTRAL
        else if (tone === "neutral") {
          msg += `‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ${name || "‡¶¶‡¶æ/‡¶¶‡¶ø"},\n\n`;
          msg += `‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶ö‡ßç‡¶õ‡¶ø ‡¶Ø‡ßá ‡¶Ö‡¶ô‡ßç‡¶ï‡ßÅ‡¶∂ ‡¶ì ‡¶∏‡ßç‡¶¨‡¶æ‡¶§‡ßÄ‡¶∞ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßá ‡¶†‡¶ø‡¶ï ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡¶è‡¶á ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ‡¶Ø‡¶º ‡¶¨‡¶ø‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶π‡¶¨‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ñ‡ßÅ‡¶∂‡¶ø ‡¶π‡¶¨‡•§\n\n`;
          if (selected.length > 0) {
            msg += `‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡¶æ‡¶¶‡¶∞ ‡¶Ü‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶ì RSVP-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®:\n`;
          msg += `${siteLink}\n\n`;
          msg += `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø ‡¶è‡¶á ‡¶â‡ßé‡¶∏‡¶¨‡¶ï‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡¶Æ‡¶Ø‡¶º ‡¶ï‡¶∞‡ßá ‡¶§‡ßÅ‡¶≤‡¶¨‡ßá‡•§\n\n`;
          msg += `‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ ‡¶∏‡¶π,\n‡¶∂ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞`;
        }
        
        // FORMAL
        else {
          msg += `‡•• ‡¶∂‡ßç‡¶∞‡ßÄ ‡¶ó‡¶£‡ßá‡¶∂‡¶æ‡¶Ø‡¶º ‡¶®‡¶Æ‡¶É ‡••\n\n`;
          msg += `‡¶∂‡ßç‡¶∞‡¶¶‡ßç‡¶ß‡ßá‡¶Ø‡¶º ${name || "‡¶¶‡¶æ/‡¶¶‡¶ø"},\n\n`;
          msg += `‡¶∏‡¶∂‡ßç‡¶∞‡¶¶‡ßç‡¶ß ‡¶™‡ßç‡¶∞‡¶£‡¶æ‡¶Æ‡•§\n\n`;
          msg += `‡¶∂‡ßç‡¶∞‡ßÄ ‡¶ó‡¶£‡ßá‡¶∂‡ßá‡¶∞ ‡¶ï‡ßÉ‡¶™‡¶æ‡¶Ø‡¶º ‡¶ì ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶ú‡¶®‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶∂‡ßÄ‡¶∞‡ßç‡¶¨‡¶æ‡¶¶‡ßá, ‡¶Ö‡¶ô‡ßç‡¶ï‡ßÅ‡¶∂ ‡¶ì ‡¶∏‡ßç‡¶¨‡¶æ‡¶§‡ßÄ‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶æ‡¶π ‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶§‡ßá ‡¶™‡ßá‡¶∞‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡¶ø‡¶§‡•§\n\n`;
          if (note) msg += `${note}\n\n`;
          msg += `‡¶è‡¶á ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ‡¶Ø‡¶º ‡¶¨‡¶ø‡¶¨‡¶æ‡¶π‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶≠ ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶π‡¶¨‡ßá‡•§ ‡¶è‡¶á ‡¶Æ‡¶æ‡¶ô‡ßç‡¶ó‡¶≤‡¶ø‡¶ï ‡¶â‡¶™‡¶≤‡¶ï‡ßç‡¶∑‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶≠ ‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø ‡¶ì ‡¶Ü‡¶∂‡ßÄ‡¶∞‡ßç‡¶¨‡¶æ‡¶¶ ‡¶™‡ßá‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ß‡¶®‡ßç‡¶Ø ‡¶π‡¶¨‡•§\n\n`;
          if (selected.length > 0) {
            msg += `‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡¶¨‡¶ø‡¶®‡¶Ø‡¶º ‡¶Ü‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ú‡¶æ‡¶®‡¶æ‡¶ö‡ßç‡¶õ‡¶ø:\n\n`;
            msg += `ü™∑ *${formatEventList(lang, [...selected])}*\n\n`;
          }
          msg += `‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶ì RSVP-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®:\n`;
          msg += `${siteLink}\n\n`;
          msg += `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶∂‡ßÄ‡¶∞‡ßç‡¶¨‡¶æ‡¶¶ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ö‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡•§\n\n`;
          msg += `‡¶∏‡¶∂‡ßç‡¶∞‡¶¶‡ßç‡¶ß,\n‡¶∂ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞`;
        }
      }

      return msg;
    }

    function updateSendLinks(msg) {
      const lang = document.getElementById("language").value;
      const encoded = encodeURIComponent(msg);
      const subject = encodeURIComponent(emailSubjects[lang]);

      document.getElementById("whatsappBtn").href = `https://wa.me/?text=${encoded}`;
      document.getElementById("emailBtn").href = `mailto:?subject=${subject}&body=${encoded}`;
      document.getElementById("smsBtn").href = `sms:?&body=${encoded}`;
    }

    document.getElementById("generateBtn").addEventListener("click", () => {
      const msg = buildMessage();
      document.getElementById("output").value = msg;

      document.getElementById("sendLabel").classList.remove("hidden");
      document.getElementById("whatsappBtn").classList.remove("hidden");
      document.getElementById("emailBtn").classList.remove("hidden");
      document.getElementById("smsBtn").classList.remove("hidden");
      document.getElementById("copyBtn").classList.remove("hidden");

      updateSendLinks(msg);
    });

    document.getElementById("copyBtn").addEventListener("click", () => {
      const output = document.getElementById("output");
      output.select();
      output.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(output.value).then(() => {
        const btn = document.getElementById("copyBtn");
        btn.innerHTML = "Copied!";
        setTimeout(() => { btn.innerHTML = "Copy"; }, 2000);
      });
    });
  </script>
</body>
</html>